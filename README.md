## 恶意流量检测系统简介
本系统可命名：基于python的Web端靶场系统/基于Web的恶意流量检测系统/基于python的恶意流量检测系统
[2026届新系统][网络安全][信息安全][计算机]
网络安全学习平台（有前台和后台），专门为网络安全教育和培训而设计。系统能够实时监控网络流量，识别拦截恶意攻击行为，包括XSS跨站脚本攻击、SQL注入攻击、恶意文件上传常见网络威胁。
系统提供直观的可视化仪表盘，包括攻击趋势分析、威胁类型统计、封禁IP管理、靶场学习、攻击日志等功能。同时，系统内置多种漏洞测试场景，支持学生进行渗透测试和安全评估实践，帮助深入理解各种安全漏洞的形成原理和修复方法。

演示视频：【恶意流量检测系统-基于Python的web靶场系统-网络安全-信息安全-Python-vue-MySQL-网络安全毕设参考-信息安全毕设参考-网安毕设项目参考】https://www.bilibili.com/video/BV13enRz3EKz?vd_source=97984b4127eb90a391d8becfdefc0e9e

需要合作+v：MrN1579

# 恶意流量检测系统

一个基于Django + Vue.js的恶意流量检测与漏洞测试系统，提供实时流量监控、攻击检测、IP封禁管理和漏洞测试功能。


## 🎯 项目概述

恶意流量检测系统是一个综合性的网络安全监控平台，旨在帮助管理员实时监控网络流量、检测恶意攻击行为、管理封禁IP地址，并提供多种漏洞测试功能。系统采用前后端分离架构，后端使用Django REST Framework提供API服务，前端使用Vue.js构建现代化用户界面。

### 主要目标
- 实时监控网络流量和攻击行为
- 提供直观的数据可视化和统计分析
- 支持多种攻击类型的检测和防护
- 提供漏洞测试和渗透测试功能
- 简化安全管理员的工作流程

## 🛠 技术栈

### 后端技术
- **Django 5.2.6** - Web框架
- **Django REST Framework 3.16.1** - API框架
- **MySQL** - 数据库
- **JWT** - 身份认证
- **CORS** - 跨域支持

### 前端技术
- **Vue.js 3.2.13** - 前端框架
- **Vue Router 4.0.12** - 路由管理
- **Vuex 4.0.2** - 状态管理
- **Element Plus 2.2.32** - UI组件库
- **ECharts 5.4.0** - 数据可视化
- **Axios 0.27.2** - HTTP客户端

### 开发工具
- **Python 3.11+**
- **Node.js 16+**
- **Vue CLI 5.0**

## ✨ 功能特性

### 🔍 流量监控
- **实时监控**: 实时显示当前网络流量状态
- **攻击检测**: 自动检测XSS、SQL注入、文件上传等攻击
- **统计分析**: 提供详细的攻击统计和趋势分析
- **时间范围**: 支持按中国时间统计今日、本周攻击数据
- **严重程度分级**: 根据攻击类型和危害程度自动分级

### 📊 数据可视化
- **仪表盘**: 直观展示系统关键指标
- **趋势图表**: 最近7天攻击趋势可视化
- **分类统计**: 按攻击类型和严重程度分类统计
- **实时更新**: 数据自动刷新，无需手动操作

### 🚫 IP管理
- **自动封禁**: 检测到恶意IP自动加入封禁列表
- **手动管理**: 支持手动添加、编辑、删除封禁IP
- **状态控制**: 可启用/禁用特定IP的封禁状态
- **攻击统计**: 显示每个IP的攻击次数和时间

### 🔒 漏洞测试
- **XSS测试**: 反射型、存储型XSS漏洞测试
- **SQL注入测试**: 多种SQL注入攻击模式测试
- **文件上传测试**: 恶意文件上传漏洞测试
- **测试记录**: 保存测试结果和攻击载荷

### 👤 用户管理
- **用户认证**: JWT令牌认证机制
- **权限控制**: 基于角色的访问控制
- **个人资料**: 用户信息管理和密码修改
- **登录记录**: 记录用户登录IP和时间

### ⚙️ 系统配置
- **防御控制**: 全局防御系统开关
- **系统设置**: 各种系统参数配置
- **白名单管理**: IP白名单配置
- **日志管理**: 日志记录

## 🚨 攻击严重程度划分

系统根据攻击类型、危害程度和检测模式自动将攻击分为四个严重程度等级：

### 严重程度等级

| 等级 | 英文标识 | 中文名称 | 颜色标识 | 说明 |
|------|----------|----------|----------|------|
| **严重** | `critical` | 严重 | 红色 | 最高危险级别，可能导致系统完全被攻破 |
| **高** | `high` | 高 | 红色 | 高风险攻击，可能造成严重安全威胁 |
| **中** | `medium` | 中 | 橙色 | 中等风险，需要关注但危害相对较小 |
| **低** | `low` | 低 | 绿色 | 低风险，通常为测试或误报 |

### 攻击类型与严重程度映射

#### 🔴 严重 (Critical)
- **SQL注入攻击**: 所有SQL注入攻击都被标记为严重级别
  - 原因：SQL注入可直接访问和操作数据库，危害极大

#### 🟠 高 (High)
- **XSS攻击**: 反射型和存储型XSS攻击
  - 原因：可执行恶意脚本，窃取用户信息或进行会话劫持
- **文件上传攻击**: 上传危险文件类型或包含恶意内容
  - 原因：可能上传Webshell或恶意脚本，获得服务器控制权
- **暴力破解攻击**: 短时间内大量失败登录尝试
  - 原因：可能通过暴力破解获得系统访问权限

#### 🟡 中 (Medium)
- **CSRF攻击**: 跨站请求伪造攻击
  - 原因：可能执行非授权操作，但需要用户配合
- **路径遍历攻击**: 尝试访问系统敏感文件
  - 原因：可能泄露敏感信息，但通常不会直接执行代码

#### 🟢 低 (Low)
- **安全测试**: 通过漏洞测试页面进行的测试
  - 原因：属于授权测试，风险可控
- **误报**: 系统误判的正常请求
  - 原因：检测规则过于严格导致的误判

### 自动处理机制

#### 严重和高风险攻击
- **自动封禁IP**: 检测到严重或高风险攻击时，系统会自动将攻击IP加入封禁列表
- **立即记录**: 所有攻击都会被详细记录到流量日志中
- **实时告警**: 在仪表盘中实时显示攻击统计和趋势

#### 中等和低风险攻击
- **记录日志**: 记录攻击详情但不自动封禁IP
- **统计分析**: 纳入攻击统计，用于趋势分析
- **人工审核**: 管理员可手动决定是否封禁相关IP

### 严重程度判断逻辑

```python
# 系统内部判断逻辑示例
if attack_type == 'sql_injection':
    severity = 'critical'  # SQL注入始终为严重级别
elif attack_type == 'xss':
    severity = 'high'      # XSS攻击为高级别
elif attack_type == 'file_upload':
    severity = 'high'      # 危险文件上传为高级别
elif attack_type == 'brute_force':
    severity = 'high'      # 暴力破解为高级别
elif is_test_request:
    severity = 'low'       # 测试请求为低级别
else:
    severity = 'medium'    # 其他攻击为中级别
```

### 严重程度统计

系统提供以下严重程度统计功能：
- **仪表盘展示**: 在主页显示各严重程度的攻击数量分布
- **趋势分析**: 按严重程度分析攻击趋势变化
- **日志筛选**: 可按严重程度筛选查看攻击日志
- **报表导出**: 支持按严重程度导出攻击统计报表

## 🏗 系统架构

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   前端 (Vue.js)  │    │   后端 (Django)  │    │   数据库 (MySQL) │
│                 │    │                 │    │                 │
│  ┌───────────┐  │    │  ┌───────────┐  │    │  ┌───────────┐  │
│  │ 仪表盘    │  │◄──►│  │ API接口   │  │◄──►│  │ 流量日志  │  │
│  └───────────┘  │    │  └───────────┘  │    │  └───────────┘  │
│  ┌───────────┐  │    │  ┌───────────┐  │    │  ┌───────────┐  │
│  │ 日志管理  │  │◄──►│  │ 业务逻辑  │  │◄──►│  │ 封禁IP    │  │
│  └───────────┘  │    │  └───────────┘  │    │  └───────────┘  │
│  ┌───────────┐  │    │  ┌───────────┐  │    │  ┌───────────┐  │
│  │ 漏洞测试  │  │◄──►│  │ 中间件    │  │◄──►│  │ 用户信息  │  │
│  └───────────┘  │    │  └───────────┘  │    │  └───────────┘  │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

### 核心模块

#### 后端模块
- **models.py**: 数据模型定义
- **views.py**: API视图和业务逻辑
- **middleware.py**: 流量检测中间件
- **urls.py**: URL路由配置

#### 前端模块
- **Dashboard.vue**: 主仪表盘
- **Logs.vue**: 日志管理页面
- **BlockedIPs.vue**: IP封禁管理
- **vulnerability/**: 漏洞测试模块

## 🚀 安装部署

### 环境要求
- Python 3.11+
- Node.js 16+
- MySQL 8.0+
- Git

### 1. 克隆项目
```bash
git clone <repository-url>
cd malicious_traffic_inspection
```

### 2. 后端部署

#### 创建虚拟环境
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

#### 安装依赖
```bash
cd myproject
pip install -r requirements.txt
```

#### 数据库配置
```bash
# 创建数据库
mysql -u root -p
CREATE DATABASE malicious_traffic_inspection CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# 执行迁移
python manage.py makemigrations
python manage.py migrate

# 创建超级用户
python manage.py createsuperuser

# 创建测试数据
python create_test_data.py
```

#### 启动后端服务
```bash
python manage.py runserver 0.0.0.0:8000
```

### 3. 前端部署

#### 安装依赖
```bash
cd my-vue-project
npm install
```

#### 配置环境变量
创建 `.env` 文件：
```env
VUE_APP_API_BASE_URL=http://localhost:8000
```

#### 启动前端服务
```bash
npm run serve
```

### 4. 访问系统
- 前端地址: http://localhost:8080
- 后端API: http://localhost:8000
- 管理后台: http://localhost:8000/admin

## ⚙️ 配置说明

### 数据库配置
在 `myproject/settings.py` 中配置数据库连接：

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'malicious_traffic_inspection',
        'USER': 'root',
        'PASSWORD': 'your_password',
        'HOST': 'localhost',
        'PORT': '3306',
        'OPTIONS': {
            'charset': 'utf8mb4',
        },
    }
}
```

### 时区配置
系统已配置为中国时区（UTC+8），所有时间统计都按中国时间计算：

```python
TIME_ZONE = 'Asia/Shanghai'
LANGUAGE_CODE = 'zh-hans'
```

### 安全配置
- JWT令牌有效期：60分钟
- 刷新令牌有效期：7天
- CORS已配置允许跨域请求
- CSRF保护已启用

## 📚 API文档

### 认证接口
- `POST /api/auth/login/` - 用户登录
- `POST /api/auth/logout/` - 用户登出

### 流量统计接口
- `GET /api/traffic/stats/` - 获取流量统计
- `GET /api/traffic/logs/` - 获取流量日志

### IP管理接口
- `GET /api/blocked-ips/` - 获取封禁IP列表
- `POST /api/blocked-ips/` - 添加封禁IP
- `PUT /api/blocked-ips/{id}/` - 更新封禁IP
- `DELETE /api/blocked-ips/{id}/` - 删除封禁IP

### 漏洞测试接口
- `POST /api/test/xss/` - XSS测试
- `POST /api/test/sql-injection/` - SQL注入测试
- `POST /api/test/file-upload/` - 文件上传测试

### 系统配置接口
- `GET /api/config/` - 获取系统配置
- `PUT /api/config/` - 更新系统配置
- `POST /api/defense/control/` - 防御控制

## 📖 使用指南

### 1. 登录系统
- 访问 http://localhost:8080
- 使用默认账号：admin/admin123
- 或使用创建的超级用户账号

### 2. 查看仪表盘
- 查看总体攻击统计
- 查看最近7天攻击趋势
- 查看攻击类型分布
- 查看严重程度统计

### 3. 管理封禁IP
- 查看当前封禁的IP列表
- 添加新的封禁IP
- 启用/禁用特定IP的封禁
- 删除不需要的封禁记录

### 4. 进行漏洞测试
- 访问漏洞测试页面
- 选择测试类型（XSS、SQL注入、文件上传）
- 输入测试载荷
- 查看测试结果和检测日志

### 5. 查看日志
- 查看所有流量日志
- 按时间、IP、攻击类型筛选
- 导出日志数据



### 添加新功能

#### 后端开发
1. 在 `models.py` 中定义数据模型
2. 在 `views.py` 中实现API视图
3. 在 `urls.py` 中添加路由
4. 执行数据库迁移

#### 前端开发
1. 在 `src/views/` 中创建页面组件
2. 在 `src/api/` 中添加API接口
3. 在 `src/router/` 中配置路由
4. 更新导航菜单

### 代码规范
- Python代码遵循PEP 8规范
- JavaScript代码使用ES6+语法
- Vue组件使用Composition API
- 所有API接口返回JSON格式

## 🔒 安全说明

### 安全特性
- JWT令牌认证
- CSRF保护
- SQL注入防护
- XSS防护
- 文件上传安全检查
- IP白名单机制

### 安全建议
1. 生产环境请修改默认密钥
2. 启用HTTPS
3. 定期更新依赖包
4. 监控系统日志
5. 定期备份数据

### 漏洞测试警告
⚠️ **重要提醒**：本系统包含漏洞测试功能，仅用于：
- 安全研究和教育
- 授权渗透测试
- 系统安全评估

请勿用于非法用途！

## ❓ 常见问题

### Q: 如何修改数据库配置？
A: 编辑 `myproject/settings.py` 文件中的 `DATABASES` 配置。

### Q: 如何添加新的攻击检测规则？
A: 在 `middleware.py` 中的 `TrafficInspectionMiddleware` 类中添加检测逻辑。

### Q: 如何自定义前端主题？
A: 修改 `my-vue-project/src/assets/` 目录下的样式文件。

### Q: 如何备份数据？
A: 使用 `python manage.py dumpdata` 命令导出数据。

### Q: 系统支持哪些攻击类型？
A: 目前支持XSS、SQL注入、文件上传、CSRF、暴力破解等攻击类型。


## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🤝 贡献

欢迎提交Issue和Pull Request来改进项目！

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交Issue
- 发送邮件至项目维护者

---

**注意**: 本项目仅供学习和研究使用，请遵守相关法律法规，不得用于非法用途。
